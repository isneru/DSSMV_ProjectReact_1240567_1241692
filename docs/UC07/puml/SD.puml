@startuml SD
autonumber

actor "User" as User
participant "Settings Screen" as UI
participant "AuthProvider" as Context
participant "SecureStore" as Store

activate User
User -> UI : clicks logout button
activate UI
UI -> Context : logout()
activate Context

Context -> Store : deleteItemAsync(session_key)
activate Store
Store --> Context : void
deactivate Store

Context -> Context : dispatch("SIGN_OUT")
Context --> UI : updates state (unauthenticated)
deactivate Context

UI --> User : renders "login with todoist" button
deactivate UI
deactivate User
@enduml